# llmisvc-resources

Helm chart for deploying KServe LLMInferenceService resources

![Version: v0.15.2](https://img.shields.io/badge/Version-v0.15.2-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: v0.15.2](https://img.shields.io/badge/AppVersion-v0.15.2-informational?style=flat-square)

## Installing the Chart

To install the chart, run the following:

```console
$ helm install llmisvc oci://ghcr.io/kserve/charts/llmisvc --version v0.15.2
```

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| commonAnnotations | object | `{}` | Common annotations to add to all resources |
| commonLabels | object | `{}` | Common labels to add to all resources |
| kserve.llmisvc.configs | object | `{"decodeTemplate":{"args":["--served-model-name","{{ .Spec.Model.Name }}","--port","8001","--disable-log-requests"],"command":["vllm","serve","{{ .Spec.Model.Name }}"],"enabled":true,"env":[{"name":"HOME","value":"/home"},{"name":"VLLM_LOGGING_LEVEL","value":"INFO"},{"name":"HF_HUB_CACHE","value":"/models"}],"image":{"pullPolicy":"IfNotPresent","repository":"ghcr.io/llm-d/llm-d","tag":"0.0.8"},"initContainer":{"args":["--port=8000","--vllm-port=8001"],"image":{"pullPolicy":"IfNotPresent","repository":"ghcr.io/llm-d/llm-d-routing-sidecar","tag":"0.0.6"},"ports":[{"containerPort":8000,"protocol":"TCP"}]},"livenessProbe":{"failureThreshold":3,"httpGet":{"path":"/health","port":8001},"initialDelaySeconds":120,"periodSeconds":10,"timeoutSeconds":10},"ports":[{"containerPort":8001,"protocol":"TCP"}],"readinessProbe":{"failureThreshold":60,"httpGet":{"path":"/health","port":8001},"initialDelaySeconds":10,"periodSeconds":10,"timeoutSeconds":5},"securityContext":{"allowPrivilegeEscalation":false,"capabilities":{"drop":["MKNOD"]}},"terminationGracePeriodSeconds":30,"volumeMounts":[{"mountPath":"/home","name":"home"},{"mountPath":"/dev/shm","name":"dshm"},{"mountPath":"/models","name":"model-cache"}],"volumes":[{"emptyDir":{},"name":"home"},{"emptyDir":{"medium":"Memory","sizeLimit":"1Gi"},"name":"dshm"},{"emptyDir":{},"name":"model-cache"}]},"model":{"name":"{{`{{ .Spec.Model.Name }}`}}","uri":"{{`{{ .Spec.Model.URI }}`}}"},"prefillTemplate":{"args":["--served-model-name","{{ .Spec.Model.Name }}","--port","8000","--disable-log-requests"],"command":["vllm","serve","{{ .Spec.Model.Name }}"],"enabled":true,"env":[{"name":"HOME","value":"/home"},{"name":"VLLM_LOGGING_LEVEL","value":"INFO"},{"name":"HF_HUB_CACHE","value":"/models"}],"image":{"pullPolicy":"IfNotPresent","repository":"ghcr.io/llm-d/llm-d","tag":"0.0.8"},"livenessProbe":{"failureThreshold":3,"httpGet":{"path":"/health","port":8000},"initialDelaySeconds":120,"periodSeconds":10,"timeoutSeconds":10},"ports":[{"containerPort":8000,"protocol":"TCP"}],"readinessProbe":{"failureThreshold":60,"httpGet":{"path":"/health","port":8000},"initialDelaySeconds":10,"periodSeconds":10,"timeoutSeconds":5},"securityContext":{"allowPrivilegeEscalation":false},"terminationGracePeriodSeconds":30,"volumeMounts":[{"mountPath":"/home","name":"home"},{"mountPath":"/dev/shm","name":"dshm"},{"mountPath":"/models","name":"model-cache"}],"volumes":[{"emptyDir":{},"name":"home"},{"emptyDir":{"medium":"Memory","sizeLimit":"1Gi"},"name":"dshm"},{"emptyDir":{},"name":"model-cache"}]},"routerRoute":{"enabled":true,"http":{"backendRefs":[{"group":"inference.networking.x-k8s.io","kind":"InferencePool","name":"{{ ChildName .ObjectMeta.Name `-inference-pool` }}","port":8000,"weight":1}],"matches":[{"path":{"type":"PathPrefix","value":"/"}}],"parentRefs":[{"group":"gateway.networking.k8s.io","kind":"Gateway","name":"{{ .GlobalConfig.IngressGatewayName }}","namespace":"kserve"}],"timeouts":{"backendRequest":"0s","request":"0s"}}},"scheduler":{"args":["--poolName","{{ ChildName .ObjectMeta.Name `-inference-pool` }}","--poolNamespace","{{ .ObjectMeta.Namespace }}","--zap-encoder","json","--grpcPort","9002","--grpcHealthPort","9003"],"enabled":true,"env":[{"name":"ENABLE_LOAD_AWARE_SCORER","value":"true"},{"name":"ENABLE_PREFIX_AWARE_SCORER","value":"true"},{"name":"ENABLE_SESSION_AWARE_SCORER","value":"true"},{"name":"LOAD_AWARE_SCORER_WEIGHT","value":"1"},{"name":"PD_ENABLED","value":"true"},{"name":"PD_PROMPT_LEN_THRESHOLD","value":"100"},{"name":"PREFILL_ENABLE_LOAD_AWARE_SCORER","value":"true"},{"name":"PREFILL_ENABLE_PREFIX_AWARE_SCORER","value":"true"},{"name":"PREFILL_ENABLE_SESSION_AWARE_SCORER","value":"true"},{"name":"PREFILL_LOAD_AWARE_SCORER_WEIGHT","value":"1"},{"name":"PREFILL_PREFIX_AWARE_SCORER_WEIGHT","value":"1"},{"name":"PREFILL_SESSION_AWARE_SCORER_WEIGHT","value":"1"},{"name":"PREFIX_AWARE_SCORER_WEIGHT","value":"2"},{"name":"SESSION_AWARE_SCORER_WEIGHT","value":"1"}],"image":{"pullPolicy":"IfNotPresent","repository":"ghcr.io/llm-d/llm-d-inference-scheduler","tag":"0.0.4"},"livenessProbe":{"failureThreshold":3,"grpc":{"port":9003,"service":"envoy.service.ext_proc.v3.ExternalProcessor"},"initialDelaySeconds":5,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":1},"pool":{"extensionRef":{"name":"{{ ChildName .ObjectMeta.Name `-epp-service` }}"},"targetPortNumber":8000},"ports":[{"containerPort":9002,"name":"grpc","protocol":"TCP"},{"containerPort":9003,"name":"grpc-health","protocol":"TCP"},{"containerPort":9090,"name":"metrics","protocol":"TCP"}],"readinessProbe":{"failureThreshold":3,"grpc":{"port":9003,"service":"envoy.service.ext_proc.v3.ExternalProcessor"},"initialDelaySeconds":30,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":1},"resources":{"requests":{"cpu":"256m","memory":"500Mi"}},"securityContext":{"allowPrivilegeEscalation":false,"capabilities":{"drop":["ALL"]},"readOnlyRootFilesystem":true,"runAsNonRoot":true,"seccompProfile":{"type":"RuntimeDefault"}},"terminationGracePeriodSeconds":30},"template":{"args":["--served-model-name","{{ .Spec.Model.Name }}","--port","8000","--disable-log-requests"],"enabled":true,"env":[{"name":"HOME","value":"/home"},{"name":"VLLM_LOGGING_LEVEL","value":"INFO"},{"name":"HF_HUB_CACHE","value":"/models"}],"image":{"pullPolicy":"IfNotPresent","repository":"ghcr.io/llm-d/llm-d","tag":"0.0.8"},"livenessProbe":{"failureThreshold":3,"httpGet":{"path":"/health","port":8000},"initialDelaySeconds":120,"periodSeconds":10,"timeoutSeconds":10},"ports":[{"containerPort":8000,"protocol":"TCP"}],"readinessProbe":{"failureThreshold":60,"httpGet":{"path":"/health","port":8000},"initialDelaySeconds":10,"periodSeconds":10,"timeoutSeconds":5},"securityContext":{"allowPrivilegeEscalation":false,"capabilities":{"drop":["MKNOD"]}},"terminationGracePeriodSeconds":30,"volumeMounts":[{"mountPath":"/home","name":"home"},{"mountPath":"/dev/shm","name":"dshm"},{"mountPath":"/models","name":"model-cache"}],"volumes":[{"emptyDir":{},"name":"home"},{"emptyDir":{"medium":"Memory","sizeLimit":"1Gi"},"name":"dshm"},{"emptyDir":{},"name":"model-cache"}]},"workers":{"decode":{"enabled":true,"env":[{"name":"HOME","value":"/home"},{"name":"VLLM_LOGGING_LEVEL","value":"INFO"},{"name":"HF_HUB_CACHE","value":"/models"}],"image":{"pullPolicy":"IfNotPresent","repository":"ghcr.io/llm-d/llm-d","tag":"0.0.8"},"initContainer":{"args":["--port=8000","--vllm-port=8001"],"image":{"pullPolicy":"IfNotPresent","repository":"ghcr.io/llm-d/llm-d-routing-sidecar","tag":"0.0.6"},"ports":[{"containerPort":8000,"protocol":"TCP"}]},"livenessProbe":{"failureThreshold":3,"httpGet":{"path":"/health","port":8001},"initialDelaySeconds":120,"periodSeconds":10,"timeoutSeconds":10},"ports":[{"containerPort":8001,"protocol":"TCP"}],"readinessProbe":{"failureThreshold":60,"httpGet":{"path":"/health","port":8001},"initialDelaySeconds":10,"periodSeconds":10,"timeoutSeconds":5},"securityContext":{"allowPrivilegeEscalation":false,"capabilities":{"add":["IPC_LOCK","SYS_RAWIO"]}},"terminationGracePeriodSeconds":30,"volumeMounts":[{"mountPath":"/home","name":"home"},{"mountPath":"/dev/shm","name":"dshm"},{"mountPath":"/models","name":"model-cache"}],"volumes":[{"emptyDir":{},"name":"home"},{"emptyDir":{"medium":"Memory","sizeLimit":"1Gi"},"name":"dshm"},{"emptyDir":{},"name":"model-cache"}]},"enabled":true,"prefill":{"enabled":true,"env":[{"name":"HOME","value":"/home"},{"name":"VLLM_LOGGING_LEVEL","value":"INFO"},{"name":"HF_HUB_CACHE","value":"/models"}],"image":{"pullPolicy":"IfNotPresent","repository":"ghcr.io/llm-d/llm-d","tag":"0.0.8"},"livenessProbe":{"failureThreshold":3,"httpGet":{"path":"/health","port":8000},"initialDelaySeconds":120,"periodSeconds":10,"timeoutSeconds":10},"ports":[{"containerPort":8000,"protocol":"TCP"}],"readinessProbe":{"failureThreshold":60,"httpGet":{"path":"/health","port":8000},"initialDelaySeconds":10,"periodSeconds":10,"timeoutSeconds":5},"securityContext":{"allowPrivilegeEscalation":false,"capabilities":{"add":["IPC_LOCK","SYS_RAWIO"]}},"terminationGracePeriodSeconds":30,"volumeMounts":[{"mountPath":"/home","name":"home"},{"mountPath":"/dev/shm","name":"dshm"},{"mountPath":"/models","name":"model-cache"}],"volumes":[{"emptyDir":{},"name":"home"},{"emptyDir":{"medium":"Memory","sizeLimit":"1Gi"},"name":"dshm"},{"emptyDir":{},"name":"model-cache"}]},"worker":{"enabled":true,"env":[{"name":"HOME","value":"/home"},{"name":"VLLM_LOGGING_LEVEL","value":"INFO"},{"name":"HF_HUB_CACHE","value":"/models"}],"image":{"pullPolicy":"IfNotPresent","repository":"ghcr.io/llm-d/llm-d","tag":"0.0.8"},"livenessProbe":{"failureThreshold":3,"httpGet":{"path":"/health","port":8000},"initialDelaySeconds":120,"periodSeconds":10,"timeoutSeconds":10},"ports":[{"containerPort":8000,"protocol":"TCP"}],"readinessProbe":{"failureThreshold":60,"httpGet":{"path":"/health","port":8000},"initialDelaySeconds":10,"periodSeconds":10,"timeoutSeconds":5},"securityContext":{"allowPrivilegeEscalation":false,"capabilities":{"add":["IPC_LOCK","SYS_RAWIO"]}},"terminationGracePeriodSeconds":30,"volumeMounts":[{"mountPath":"/home","name":"home"},{"mountPath":"/dev/shm","name":"dshm"},{"mountPath":"/models","name":"model-cache"}],"volumes":[{"emptyDir":{},"name":"home"},{"emptyDir":{"medium":"Memory","sizeLimit":"1Gi"},"name":"dshm"},{"emptyDir":{},"name":"model-cache"}]}}}` | LLM Inference Service Configuration templates |
| kserve.llmisvc.configs.decodeTemplate | object | `{"args":["--served-model-name","{{ .Spec.Model.Name }}","--port","8001","--disable-log-requests"],"command":["vllm","serve","{{ .Spec.Model.Name }}"],"enabled":true,"env":[{"name":"HOME","value":"/home"},{"name":"VLLM_LOGGING_LEVEL","value":"INFO"},{"name":"HF_HUB_CACHE","value":"/models"}],"image":{"pullPolicy":"IfNotPresent","repository":"ghcr.io/llm-d/llm-d","tag":"0.0.8"},"initContainer":{"args":["--port=8000","--vllm-port=8001"],"image":{"pullPolicy":"IfNotPresent","repository":"ghcr.io/llm-d/llm-d-routing-sidecar","tag":"0.0.6"},"ports":[{"containerPort":8000,"protocol":"TCP"}]},"livenessProbe":{"failureThreshold":3,"httpGet":{"path":"/health","port":8001},"initialDelaySeconds":120,"periodSeconds":10,"timeoutSeconds":10},"ports":[{"containerPort":8001,"protocol":"TCP"}],"readinessProbe":{"failureThreshold":60,"httpGet":{"path":"/health","port":8001},"initialDelaySeconds":10,"periodSeconds":10,"timeoutSeconds":5},"securityContext":{"allowPrivilegeEscalation":false,"capabilities":{"drop":["MKNOD"]}},"terminationGracePeriodSeconds":30,"volumeMounts":[{"mountPath":"/home","name":"home"},{"mountPath":"/dev/shm","name":"dshm"},{"mountPath":"/models","name":"model-cache"}],"volumes":[{"emptyDir":{},"name":"home"},{"emptyDir":{"medium":"Memory","sizeLimit":"1Gi"},"name":"dshm"},{"emptyDir":{},"name":"model-cache"}]}` | Decode template configuration |
| kserve.llmisvc.configs.decodeTemplate.args | list | `["--served-model-name","{{ .Spec.Model.Name }}","--port","8001","--disable-log-requests"]` | VLLM decode command arguments |
| kserve.llmisvc.configs.decodeTemplate.command | list | `["vllm","serve","{{ .Spec.Model.Name }}"]` | VLLM decode command |
| kserve.llmisvc.configs.decodeTemplate.enabled | bool | `true` | Whether to create the decode template config |
| kserve.llmisvc.configs.decodeTemplate.env | list | `[{"name":"HOME","value":"/home"},{"name":"VLLM_LOGGING_LEVEL","value":"INFO"},{"name":"HF_HUB_CACHE","value":"/models"}]` | Environment variables for VLLM decode container |
| kserve.llmisvc.configs.decodeTemplate.image | object | `{"pullPolicy":"IfNotPresent","repository":"ghcr.io/llm-d/llm-d","tag":"0.0.8"}` | Container image for VLLM decode |
| kserve.llmisvc.configs.decodeTemplate.initContainer | object | `{"args":["--port=8000","--vllm-port=8001"],"image":{"pullPolicy":"IfNotPresent","repository":"ghcr.io/llm-d/llm-d-routing-sidecar","tag":"0.0.6"},"ports":[{"containerPort":8000,"protocol":"TCP"}]}` | Init container for routing sidecar |
| kserve.llmisvc.configs.decodeTemplate.initContainer.args | list | `["--port=8000","--vllm-port=8001"]` | Routing sidecar arguments |
| kserve.llmisvc.configs.decodeTemplate.initContainer.image | object | `{"pullPolicy":"IfNotPresent","repository":"ghcr.io/llm-d/llm-d-routing-sidecar","tag":"0.0.6"}` | Routing sidecar container image |
| kserve.llmisvc.configs.decodeTemplate.initContainer.ports | list | `[{"containerPort":8000,"protocol":"TCP"}]` | Routing sidecar ports |
| kserve.llmisvc.configs.decodeTemplate.livenessProbe | object | `{"failureThreshold":3,"httpGet":{"path":"/health","port":8001},"initialDelaySeconds":120,"periodSeconds":10,"timeoutSeconds":10}` | Liveness probe configuration for decode |
| kserve.llmisvc.configs.decodeTemplate.ports | list | `[{"containerPort":8001,"protocol":"TCP"}]` | Container ports for decode |
| kserve.llmisvc.configs.decodeTemplate.readinessProbe | object | `{"failureThreshold":60,"httpGet":{"path":"/health","port":8001},"initialDelaySeconds":10,"periodSeconds":10,"timeoutSeconds":5}` | Readiness probe configuration for decode |
| kserve.llmisvc.configs.decodeTemplate.securityContext | object | `{"allowPrivilegeEscalation":false,"capabilities":{"drop":["MKNOD"]}}` | Security context for VLLM decode container |
| kserve.llmisvc.configs.decodeTemplate.terminationGracePeriodSeconds | int | `30` | Termination grace period for decode |
| kserve.llmisvc.configs.decodeTemplate.volumeMounts | list | `[{"mountPath":"/home","name":"home"},{"mountPath":"/dev/shm","name":"dshm"},{"mountPath":"/models","name":"model-cache"}]` | Volume mounts for VLLM decode container |
| kserve.llmisvc.configs.decodeTemplate.volumes | list | `[{"emptyDir":{},"name":"home"},{"emptyDir":{"medium":"Memory","sizeLimit":"1Gi"},"name":"dshm"},{"emptyDir":{},"name":"model-cache"}]` | Pod volumes for decode |
| kserve.llmisvc.configs.model | object | `{"name":"{{`{{ .Spec.Model.Name }}`}}","uri":"{{`{{ .Spec.Model.URI }}`}}"}` | Common model configuration used by all templates |
| kserve.llmisvc.configs.prefillTemplate | object | `{"args":["--served-model-name","{{ .Spec.Model.Name }}","--port","8000","--disable-log-requests"],"command":["vllm","serve","{{ .Spec.Model.Name }}"],"enabled":true,"env":[{"name":"HOME","value":"/home"},{"name":"VLLM_LOGGING_LEVEL","value":"INFO"},{"name":"HF_HUB_CACHE","value":"/models"}],"image":{"pullPolicy":"IfNotPresent","repository":"ghcr.io/llm-d/llm-d","tag":"0.0.8"},"livenessProbe":{"failureThreshold":3,"httpGet":{"path":"/health","port":8000},"initialDelaySeconds":120,"periodSeconds":10,"timeoutSeconds":10},"ports":[{"containerPort":8000,"protocol":"TCP"}],"readinessProbe":{"failureThreshold":60,"httpGet":{"path":"/health","port":8000},"initialDelaySeconds":10,"periodSeconds":10,"timeoutSeconds":5},"securityContext":{"allowPrivilegeEscalation":false},"terminationGracePeriodSeconds":30,"volumeMounts":[{"mountPath":"/home","name":"home"},{"mountPath":"/dev/shm","name":"dshm"},{"mountPath":"/models","name":"model-cache"}],"volumes":[{"emptyDir":{},"name":"home"},{"emptyDir":{"medium":"Memory","sizeLimit":"1Gi"},"name":"dshm"},{"emptyDir":{},"name":"model-cache"}]}` | Prefill template configuration |
| kserve.llmisvc.configs.prefillTemplate.args | list | `["--served-model-name","{{ .Spec.Model.Name }}","--port","8000","--disable-log-requests"]` | VLLM prefill command arguments |
| kserve.llmisvc.configs.prefillTemplate.command | list | `["vllm","serve","{{ .Spec.Model.Name }}"]` | VLLM prefill command |
| kserve.llmisvc.configs.prefillTemplate.enabled | bool | `true` | Whether to create the prefill template config |
| kserve.llmisvc.configs.prefillTemplate.env | list | `[{"name":"HOME","value":"/home"},{"name":"VLLM_LOGGING_LEVEL","value":"INFO"},{"name":"HF_HUB_CACHE","value":"/models"}]` | Environment variables for VLLM prefill container |
| kserve.llmisvc.configs.prefillTemplate.image | object | `{"pullPolicy":"IfNotPresent","repository":"ghcr.io/llm-d/llm-d","tag":"0.0.8"}` | Container image for VLLM prefill |
| kserve.llmisvc.configs.prefillTemplate.livenessProbe | object | `{"failureThreshold":3,"httpGet":{"path":"/health","port":8000},"initialDelaySeconds":120,"periodSeconds":10,"timeoutSeconds":10}` | Liveness probe configuration for prefill |
| kserve.llmisvc.configs.prefillTemplate.ports | list | `[{"containerPort":8000,"protocol":"TCP"}]` | Container ports for prefill |
| kserve.llmisvc.configs.prefillTemplate.readinessProbe | object | `{"failureThreshold":60,"httpGet":{"path":"/health","port":8000},"initialDelaySeconds":10,"periodSeconds":10,"timeoutSeconds":5}` | Readiness probe configuration for prefill |
| kserve.llmisvc.configs.prefillTemplate.securityContext | object | `{"allowPrivilegeEscalation":false}` | Security context for VLLM prefill container |
| kserve.llmisvc.configs.prefillTemplate.terminationGracePeriodSeconds | int | `30` | Termination grace period for prefill |
| kserve.llmisvc.configs.prefillTemplate.volumeMounts | list | `[{"mountPath":"/home","name":"home"},{"mountPath":"/dev/shm","name":"dshm"},{"mountPath":"/models","name":"model-cache"}]` | Volume mounts for VLLM prefill container |
| kserve.llmisvc.configs.prefillTemplate.volumes | list | `[{"emptyDir":{},"name":"home"},{"emptyDir":{"medium":"Memory","sizeLimit":"1Gi"},"name":"dshm"},{"emptyDir":{},"name":"model-cache"}]` | Pod volumes for prefill |
| kserve.llmisvc.configs.routerRoute | object | `{"enabled":true,"http":{"backendRefs":[{"group":"inference.networking.x-k8s.io","kind":"InferencePool","name":"{{ ChildName .ObjectMeta.Name `-inference-pool` }}","port":8000,"weight":1}],"matches":[{"path":{"type":"PathPrefix","value":"/"}}],"parentRefs":[{"group":"gateway.networking.k8s.io","kind":"Gateway","name":"{{ .GlobalConfig.IngressGatewayName }}","namespace":"kserve"}],"timeouts":{"backendRequest":"0s","request":"0s"}}}` | Router route configuration |
| kserve.llmisvc.configs.routerRoute.enabled | bool | `true` | Whether to create the router route config |
| kserve.llmisvc.configs.routerRoute.http | object | `{"backendRefs":[{"group":"inference.networking.x-k8s.io","kind":"InferencePool","name":"{{ ChildName .ObjectMeta.Name `-inference-pool` }}","port":8000,"weight":1}],"matches":[{"path":{"type":"PathPrefix","value":"/"}}],"parentRefs":[{"group":"gateway.networking.k8s.io","kind":"Gateway","name":"{{ .GlobalConfig.IngressGatewayName }}","namespace":"kserve"}],"timeouts":{"backendRequest":"0s","request":"0s"}}` | HTTP route configuration |
| kserve.llmisvc.configs.routerRoute.http.backendRefs | list | `[{"group":"inference.networking.x-k8s.io","kind":"InferencePool","name":"{{ ChildName .ObjectMeta.Name `-inference-pool` }}","port":8000,"weight":1}]` | Backend references configuration |
| kserve.llmisvc.configs.routerRoute.http.matches | list | `[{"path":{"type":"PathPrefix","value":"/"}}]` | Route matching configuration |
| kserve.llmisvc.configs.routerRoute.http.parentRefs | list | `[{"group":"gateway.networking.k8s.io","kind":"Gateway","name":"{{ .GlobalConfig.IngressGatewayName }}","namespace":"kserve"}]` | Parent gateway configuration |
| kserve.llmisvc.configs.routerRoute.http.timeouts | object | `{"backendRequest":"0s","request":"0s"}` | Timeout configuration |
| kserve.llmisvc.configs.scheduler | object | `{"args":["--poolName","{{ ChildName .ObjectMeta.Name `-inference-pool` }}","--poolNamespace","{{ .ObjectMeta.Namespace }}","--zap-encoder","json","--grpcPort","9002","--grpcHealthPort","9003"],"enabled":true,"env":[{"name":"ENABLE_LOAD_AWARE_SCORER","value":"true"},{"name":"ENABLE_PREFIX_AWARE_SCORER","value":"true"},{"name":"ENABLE_SESSION_AWARE_SCORER","value":"true"},{"name":"LOAD_AWARE_SCORER_WEIGHT","value":"1"},{"name":"PD_ENABLED","value":"true"},{"name":"PD_PROMPT_LEN_THRESHOLD","value":"100"},{"name":"PREFILL_ENABLE_LOAD_AWARE_SCORER","value":"true"},{"name":"PREFILL_ENABLE_PREFIX_AWARE_SCORER","value":"true"},{"name":"PREFILL_ENABLE_SESSION_AWARE_SCORER","value":"true"},{"name":"PREFILL_LOAD_AWARE_SCORER_WEIGHT","value":"1"},{"name":"PREFILL_PREFIX_AWARE_SCORER_WEIGHT","value":"1"},{"name":"PREFILL_SESSION_AWARE_SCORER_WEIGHT","value":"1"},{"name":"PREFIX_AWARE_SCORER_WEIGHT","value":"2"},{"name":"SESSION_AWARE_SCORER_WEIGHT","value":"1"}],"image":{"pullPolicy":"IfNotPresent","repository":"ghcr.io/llm-d/llm-d-inference-scheduler","tag":"0.0.4"},"livenessProbe":{"failureThreshold":3,"grpc":{"port":9003,"service":"envoy.service.ext_proc.v3.ExternalProcessor"},"initialDelaySeconds":5,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":1},"pool":{"extensionRef":{"name":"{{ ChildName .ObjectMeta.Name `-epp-service` }}"},"targetPortNumber":8000},"ports":[{"containerPort":9002,"name":"grpc","protocol":"TCP"},{"containerPort":9003,"name":"grpc-health","protocol":"TCP"},{"containerPort":9090,"name":"metrics","protocol":"TCP"}],"readinessProbe":{"failureThreshold":3,"grpc":{"port":9003,"service":"envoy.service.ext_proc.v3.ExternalProcessor"},"initialDelaySeconds":30,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":1},"resources":{"requests":{"cpu":"256m","memory":"500Mi"}},"securityContext":{"allowPrivilegeEscalation":false,"capabilities":{"drop":["ALL"]},"readOnlyRootFilesystem":true,"runAsNonRoot":true,"seccompProfile":{"type":"RuntimeDefault"}},"terminationGracePeriodSeconds":30}` | Inference scheduler configuration |
| kserve.llmisvc.configs.scheduler.args | list | `["--poolName","{{ ChildName .ObjectMeta.Name `-inference-pool` }}","--poolNamespace","{{ .ObjectMeta.Namespace }}","--zap-encoder","json","--grpcPort","9002","--grpcHealthPort","9003"]` | Scheduler command arguments |
| kserve.llmisvc.configs.scheduler.enabled | bool | `true` | Whether to create the scheduler config |
| kserve.llmisvc.configs.scheduler.env | list | `[{"name":"ENABLE_LOAD_AWARE_SCORER","value":"true"},{"name":"ENABLE_PREFIX_AWARE_SCORER","value":"true"},{"name":"ENABLE_SESSION_AWARE_SCORER","value":"true"},{"name":"LOAD_AWARE_SCORER_WEIGHT","value":"1"},{"name":"PD_ENABLED","value":"true"},{"name":"PD_PROMPT_LEN_THRESHOLD","value":"100"},{"name":"PREFILL_ENABLE_LOAD_AWARE_SCORER","value":"true"},{"name":"PREFILL_ENABLE_PREFIX_AWARE_SCORER","value":"true"},{"name":"PREFILL_ENABLE_SESSION_AWARE_SCORER","value":"true"},{"name":"PREFILL_LOAD_AWARE_SCORER_WEIGHT","value":"1"},{"name":"PREFILL_PREFIX_AWARE_SCORER_WEIGHT","value":"1"},{"name":"PREFILL_SESSION_AWARE_SCORER_WEIGHT","value":"1"},{"name":"PREFIX_AWARE_SCORER_WEIGHT","value":"2"},{"name":"SESSION_AWARE_SCORER_WEIGHT","value":"1"}]` | Environment variables for scheduler |
| kserve.llmisvc.configs.scheduler.image | object | `{"pullPolicy":"IfNotPresent","repository":"ghcr.io/llm-d/llm-d-inference-scheduler","tag":"0.0.4"}` | Container image for inference scheduler |
| kserve.llmisvc.configs.scheduler.livenessProbe | object | `{"failureThreshold":3,"grpc":{"port":9003,"service":"envoy.service.ext_proc.v3.ExternalProcessor"},"initialDelaySeconds":5,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":1}` | Liveness probe configuration |
| kserve.llmisvc.configs.scheduler.pool | object | `{"extensionRef":{"name":"{{ ChildName .ObjectMeta.Name `-epp-service` }}"},"targetPortNumber":8000}` | Pool configuration |
| kserve.llmisvc.configs.scheduler.ports | list | `[{"containerPort":9002,"name":"grpc","protocol":"TCP"},{"containerPort":9003,"name":"grpc-health","protocol":"TCP"},{"containerPort":9090,"name":"metrics","protocol":"TCP"}]` | Container ports |
| kserve.llmisvc.configs.scheduler.readinessProbe | object | `{"failureThreshold":3,"grpc":{"port":9003,"service":"envoy.service.ext_proc.v3.ExternalProcessor"},"initialDelaySeconds":30,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":1}` | Readiness probe configuration |
| kserve.llmisvc.configs.scheduler.resources | object | `{"requests":{"cpu":"256m","memory":"500Mi"}}` | Resources for scheduler container |
| kserve.llmisvc.configs.scheduler.securityContext | object | `{"allowPrivilegeEscalation":false,"capabilities":{"drop":["ALL"]},"readOnlyRootFilesystem":true,"runAsNonRoot":true,"seccompProfile":{"type":"RuntimeDefault"}}` | Security context for scheduler container |
| kserve.llmisvc.configs.scheduler.terminationGracePeriodSeconds | int | `30` | Termination grace period |
| kserve.llmisvc.configs.template | object | `{"args":["--served-model-name","{{ .Spec.Model.Name }}","--port","8000","--disable-log-requests"],"enabled":true,"env":[{"name":"HOME","value":"/home"},{"name":"VLLM_LOGGING_LEVEL","value":"INFO"},{"name":"HF_HUB_CACHE","value":"/models"}],"image":{"pullPolicy":"IfNotPresent","repository":"ghcr.io/llm-d/llm-d","tag":"0.0.8"},"livenessProbe":{"failureThreshold":3,"httpGet":{"path":"/health","port":8000},"initialDelaySeconds":120,"periodSeconds":10,"timeoutSeconds":10},"ports":[{"containerPort":8000,"protocol":"TCP"}],"readinessProbe":{"failureThreshold":60,"httpGet":{"path":"/health","port":8000},"initialDelaySeconds":10,"periodSeconds":10,"timeoutSeconds":5},"securityContext":{"allowPrivilegeEscalation":false,"capabilities":{"drop":["MKNOD"]}},"terminationGracePeriodSeconds":30,"volumeMounts":[{"mountPath":"/home","name":"home"},{"mountPath":"/dev/shm","name":"dshm"},{"mountPath":"/models","name":"model-cache"}],"volumes":[{"emptyDir":{},"name":"home"},{"emptyDir":{"medium":"Memory","sizeLimit":"1Gi"},"name":"dshm"},{"emptyDir":{},"name":"model-cache"}]}` | Main VLLM template configuration |
| kserve.llmisvc.configs.template.args | list | `["--served-model-name","{{ .Spec.Model.Name }}","--port","8000","--disable-log-requests"]` | VLLM command arguments |
| kserve.llmisvc.configs.template.enabled | bool | `true` | Whether to create the LLM template config |
| kserve.llmisvc.configs.template.env | list | `[{"name":"HOME","value":"/home"},{"name":"VLLM_LOGGING_LEVEL","value":"INFO"},{"name":"HF_HUB_CACHE","value":"/models"}]` | Environment variables for VLLM container |
| kserve.llmisvc.configs.template.image | object | `{"pullPolicy":"IfNotPresent","repository":"ghcr.io/llm-d/llm-d","tag":"0.0.8"}` | Container image for VLLM |
| kserve.llmisvc.configs.template.livenessProbe | object | `{"failureThreshold":3,"httpGet":{"path":"/health","port":8000},"initialDelaySeconds":120,"periodSeconds":10,"timeoutSeconds":10}` | Liveness probe configuration |
| kserve.llmisvc.configs.template.ports | list | `[{"containerPort":8000,"protocol":"TCP"}]` | Container ports |
| kserve.llmisvc.configs.template.readinessProbe | object | `{"failureThreshold":60,"httpGet":{"path":"/health","port":8000},"initialDelaySeconds":10,"periodSeconds":10,"timeoutSeconds":5}` | Readiness probe configuration |
| kserve.llmisvc.configs.template.securityContext | object | `{"allowPrivilegeEscalation":false,"capabilities":{"drop":["MKNOD"]}}` | Security context for VLLM container |
| kserve.llmisvc.configs.template.terminationGracePeriodSeconds | int | `30` | Termination grace period |
| kserve.llmisvc.configs.template.volumeMounts | list | `[{"mountPath":"/home","name":"home"},{"mountPath":"/dev/shm","name":"dshm"},{"mountPath":"/models","name":"model-cache"}]` | Volume mounts for VLLM container |
| kserve.llmisvc.configs.template.volumes | list | `[{"emptyDir":{},"name":"home"},{"emptyDir":{"medium":"Memory","sizeLimit":"1Gi"},"name":"dshm"},{"emptyDir":{},"name":"model-cache"}]` | Pod volumes |
| kserve.llmisvc.configs.workers | object | `{"decode":{"enabled":true,"env":[{"name":"HOME","value":"/home"},{"name":"VLLM_LOGGING_LEVEL","value":"INFO"},{"name":"HF_HUB_CACHE","value":"/models"}],"image":{"pullPolicy":"IfNotPresent","repository":"ghcr.io/llm-d/llm-d","tag":"0.0.8"},"initContainer":{"args":["--port=8000","--vllm-port=8001"],"image":{"pullPolicy":"IfNotPresent","repository":"ghcr.io/llm-d/llm-d-routing-sidecar","tag":"0.0.6"},"ports":[{"containerPort":8000,"protocol":"TCP"}]},"livenessProbe":{"failureThreshold":3,"httpGet":{"path":"/health","port":8001},"initialDelaySeconds":120,"periodSeconds":10,"timeoutSeconds":10},"ports":[{"containerPort":8001,"protocol":"TCP"}],"readinessProbe":{"failureThreshold":60,"httpGet":{"path":"/health","port":8001},"initialDelaySeconds":10,"periodSeconds":10,"timeoutSeconds":5},"securityContext":{"allowPrivilegeEscalation":false,"capabilities":{"add":["IPC_LOCK","SYS_RAWIO"]}},"terminationGracePeriodSeconds":30,"volumeMounts":[{"mountPath":"/home","name":"home"},{"mountPath":"/dev/shm","name":"dshm"},{"mountPath":"/models","name":"model-cache"}],"volumes":[{"emptyDir":{},"name":"home"},{"emptyDir":{"medium":"Memory","sizeLimit":"1Gi"},"name":"dshm"},{"emptyDir":{},"name":"model-cache"}]},"enabled":true,"prefill":{"enabled":true,"env":[{"name":"HOME","value":"/home"},{"name":"VLLM_LOGGING_LEVEL","value":"INFO"},{"name":"HF_HUB_CACHE","value":"/models"}],"image":{"pullPolicy":"IfNotPresent","repository":"ghcr.io/llm-d/llm-d","tag":"0.0.8"},"livenessProbe":{"failureThreshold":3,"httpGet":{"path":"/health","port":8000},"initialDelaySeconds":120,"periodSeconds":10,"timeoutSeconds":10},"ports":[{"containerPort":8000,"protocol":"TCP"}],"readinessProbe":{"failureThreshold":60,"httpGet":{"path":"/health","port":8000},"initialDelaySeconds":10,"periodSeconds":10,"timeoutSeconds":5},"securityContext":{"allowPrivilegeEscalation":false,"capabilities":{"add":["IPC_LOCK","SYS_RAWIO"]}},"terminationGracePeriodSeconds":30,"volumeMounts":[{"mountPath":"/home","name":"home"},{"mountPath":"/dev/shm","name":"dshm"},{"mountPath":"/models","name":"model-cache"}],"volumes":[{"emptyDir":{},"name":"home"},{"emptyDir":{"medium":"Memory","sizeLimit":"1Gi"},"name":"dshm"},{"emptyDir":{},"name":"model-cache"}]},"worker":{"enabled":true,"env":[{"name":"HOME","value":"/home"},{"name":"VLLM_LOGGING_LEVEL","value":"INFO"},{"name":"HF_HUB_CACHE","value":"/models"}],"image":{"pullPolicy":"IfNotPresent","repository":"ghcr.io/llm-d/llm-d","tag":"0.0.8"},"livenessProbe":{"failureThreshold":3,"httpGet":{"path":"/health","port":8000},"initialDelaySeconds":120,"periodSeconds":10,"timeoutSeconds":10},"ports":[{"containerPort":8000,"protocol":"TCP"}],"readinessProbe":{"failureThreshold":60,"httpGet":{"path":"/health","port":8000},"initialDelaySeconds":10,"periodSeconds":10,"timeoutSeconds":5},"securityContext":{"allowPrivilegeEscalation":false,"capabilities":{"add":["IPC_LOCK","SYS_RAWIO"]}},"terminationGracePeriodSeconds":30,"volumeMounts":[{"mountPath":"/home","name":"home"},{"mountPath":"/dev/shm","name":"dshm"},{"mountPath":"/models","name":"model-cache"}],"volumes":[{"emptyDir":{},"name":"home"},{"emptyDir":{"medium":"Memory","sizeLimit":"1Gi"},"name":"dshm"},{"emptyDir":{},"name":"model-cache"}]}}` | Worker data parallel configurations |
| kserve.llmisvc.configs.workers.decode | object | `{"enabled":true,"env":[{"name":"HOME","value":"/home"},{"name":"VLLM_LOGGING_LEVEL","value":"INFO"},{"name":"HF_HUB_CACHE","value":"/models"}],"image":{"pullPolicy":"IfNotPresent","repository":"ghcr.io/llm-d/llm-d","tag":"0.0.8"},"initContainer":{"args":["--port=8000","--vllm-port=8001"],"image":{"pullPolicy":"IfNotPresent","repository":"ghcr.io/llm-d/llm-d-routing-sidecar","tag":"0.0.6"},"ports":[{"containerPort":8000,"protocol":"TCP"}]},"livenessProbe":{"failureThreshold":3,"httpGet":{"path":"/health","port":8001},"initialDelaySeconds":120,"periodSeconds":10,"timeoutSeconds":10},"ports":[{"containerPort":8001,"protocol":"TCP"}],"readinessProbe":{"failureThreshold":60,"httpGet":{"path":"/health","port":8001},"initialDelaySeconds":10,"periodSeconds":10,"timeoutSeconds":5},"securityContext":{"allowPrivilegeEscalation":false,"capabilities":{"add":["IPC_LOCK","SYS_RAWIO"]}},"terminationGracePeriodSeconds":30,"volumeMounts":[{"mountPath":"/home","name":"home"},{"mountPath":"/dev/shm","name":"dshm"},{"mountPath":"/models","name":"model-cache"}],"volumes":[{"emptyDir":{},"name":"home"},{"emptyDir":{"medium":"Memory","sizeLimit":"1Gi"},"name":"dshm"},{"emptyDir":{},"name":"model-cache"}]}` | Decode worker data parallel config |
| kserve.llmisvc.configs.workers.decode.env | list | `[{"name":"HOME","value":"/home"},{"name":"VLLM_LOGGING_LEVEL","value":"INFO"},{"name":"HF_HUB_CACHE","value":"/models"}]` | Environment variables for decode worker |
| kserve.llmisvc.configs.workers.decode.image | object | `{"pullPolicy":"IfNotPresent","repository":"ghcr.io/llm-d/llm-d","tag":"0.0.8"}` | Container image for VLLM decode worker |
| kserve.llmisvc.configs.workers.decode.initContainer | object | `{"args":["--port=8000","--vllm-port=8001"],"image":{"pullPolicy":"IfNotPresent","repository":"ghcr.io/llm-d/llm-d-routing-sidecar","tag":"0.0.6"},"ports":[{"containerPort":8000,"protocol":"TCP"}]}` | Init container for routing sidecar |
| kserve.llmisvc.configs.workers.decode.initContainer.args | list | `["--port=8000","--vllm-port=8001"]` | Routing sidecar arguments |
| kserve.llmisvc.configs.workers.decode.initContainer.image | object | `{"pullPolicy":"IfNotPresent","repository":"ghcr.io/llm-d/llm-d-routing-sidecar","tag":"0.0.6"}` | Routing sidecar container image |
| kserve.llmisvc.configs.workers.decode.initContainer.ports | list | `[{"containerPort":8000,"protocol":"TCP"}]` | Routing sidecar ports |
| kserve.llmisvc.configs.workers.decode.livenessProbe | object | `{"failureThreshold":3,"httpGet":{"path":"/health","port":8001},"initialDelaySeconds":120,"periodSeconds":10,"timeoutSeconds":10}` | Liveness probe configuration for decode worker |
| kserve.llmisvc.configs.workers.decode.ports | list | `[{"containerPort":8001,"protocol":"TCP"}]` | Container ports for decode worker |
| kserve.llmisvc.configs.workers.decode.readinessProbe | object | `{"failureThreshold":60,"httpGet":{"path":"/health","port":8001},"initialDelaySeconds":10,"periodSeconds":10,"timeoutSeconds":5}` | Readiness probe configuration for decode worker |
| kserve.llmisvc.configs.workers.decode.securityContext | object | `{"allowPrivilegeEscalation":false,"capabilities":{"add":["IPC_LOCK","SYS_RAWIO"]}}` | Security context for decode worker |
| kserve.llmisvc.configs.workers.decode.terminationGracePeriodSeconds | int | `30` | Termination grace period for decode worker |
| kserve.llmisvc.configs.workers.decode.volumeMounts | list | `[{"mountPath":"/home","name":"home"},{"mountPath":"/dev/shm","name":"dshm"},{"mountPath":"/models","name":"model-cache"}]` | Volume mounts for decode worker |
| kserve.llmisvc.configs.workers.decode.volumes | list | `[{"emptyDir":{},"name":"home"},{"emptyDir":{"medium":"Memory","sizeLimit":"1Gi"},"name":"dshm"},{"emptyDir":{},"name":"model-cache"}]` | Pod volumes for decode worker |
| kserve.llmisvc.configs.workers.enabled | bool | `true` | Whether to create worker configs |
| kserve.llmisvc.configs.workers.prefill | object | `{"enabled":true,"env":[{"name":"HOME","value":"/home"},{"name":"VLLM_LOGGING_LEVEL","value":"INFO"},{"name":"HF_HUB_CACHE","value":"/models"}],"image":{"pullPolicy":"IfNotPresent","repository":"ghcr.io/llm-d/llm-d","tag":"0.0.8"},"livenessProbe":{"failureThreshold":3,"httpGet":{"path":"/health","port":8000},"initialDelaySeconds":120,"periodSeconds":10,"timeoutSeconds":10},"ports":[{"containerPort":8000,"protocol":"TCP"}],"readinessProbe":{"failureThreshold":60,"httpGet":{"path":"/health","port":8000},"initialDelaySeconds":10,"periodSeconds":10,"timeoutSeconds":5},"securityContext":{"allowPrivilegeEscalation":false,"capabilities":{"add":["IPC_LOCK","SYS_RAWIO"]}},"terminationGracePeriodSeconds":30,"volumeMounts":[{"mountPath":"/home","name":"home"},{"mountPath":"/dev/shm","name":"dshm"},{"mountPath":"/models","name":"model-cache"}],"volumes":[{"emptyDir":{},"name":"home"},{"emptyDir":{"medium":"Memory","sizeLimit":"1Gi"},"name":"dshm"},{"emptyDir":{},"name":"model-cache"}]}` | Prefill worker data parallel config |
| kserve.llmisvc.configs.workers.prefill.env | list | `[{"name":"HOME","value":"/home"},{"name":"VLLM_LOGGING_LEVEL","value":"INFO"},{"name":"HF_HUB_CACHE","value":"/models"}]` | Environment variables for prefill worker (copied from decode for consistency) |
| kserve.llmisvc.configs.workers.prefill.image | object | `{"pullPolicy":"IfNotPresent","repository":"ghcr.io/llm-d/llm-d","tag":"0.0.8"}` | Container image for VLLM prefill worker |
| kserve.llmisvc.configs.workers.prefill.livenessProbe | object | `{"failureThreshold":3,"httpGet":{"path":"/health","port":8000},"initialDelaySeconds":120,"periodSeconds":10,"timeoutSeconds":10}` | Liveness probe configuration for prefill worker |
| kserve.llmisvc.configs.workers.prefill.ports | list | `[{"containerPort":8000,"protocol":"TCP"}]` | Container ports for prefill worker |
| kserve.llmisvc.configs.workers.prefill.readinessProbe | object | `{"failureThreshold":60,"httpGet":{"path":"/health","port":8000},"initialDelaySeconds":10,"periodSeconds":10,"timeoutSeconds":5}` | Readiness probe configuration for prefill worker |
| kserve.llmisvc.configs.workers.prefill.securityContext | object | `{"allowPrivilegeEscalation":false,"capabilities":{"add":["IPC_LOCK","SYS_RAWIO"]}}` | Security context for prefill worker |
| kserve.llmisvc.configs.workers.prefill.terminationGracePeriodSeconds | int | `30` | Termination grace period for prefill worker |
| kserve.llmisvc.configs.workers.prefill.volumeMounts | list | `[{"mountPath":"/home","name":"home"},{"mountPath":"/dev/shm","name":"dshm"},{"mountPath":"/models","name":"model-cache"}]` | Volume mounts for VLLM prefill container |
| kserve.llmisvc.configs.workers.prefill.volumes | list | `[{"emptyDir":{},"name":"home"},{"emptyDir":{"medium":"Memory","sizeLimit":"1Gi"},"name":"dshm"},{"emptyDir":{},"name":"model-cache"}]` | Pod volumes for prefill |
| kserve.llmisvc.configs.workers.worker | object | `{"enabled":true,"env":[{"name":"HOME","value":"/home"},{"name":"VLLM_LOGGING_LEVEL","value":"INFO"},{"name":"HF_HUB_CACHE","value":"/models"}],"image":{"pullPolicy":"IfNotPresent","repository":"ghcr.io/llm-d/llm-d","tag":"0.0.8"},"livenessProbe":{"failureThreshold":3,"httpGet":{"path":"/health","port":8000},"initialDelaySeconds":120,"periodSeconds":10,"timeoutSeconds":10},"ports":[{"containerPort":8000,"protocol":"TCP"}],"readinessProbe":{"failureThreshold":60,"httpGet":{"path":"/health","port":8000},"initialDelaySeconds":10,"periodSeconds":10,"timeoutSeconds":5},"securityContext":{"allowPrivilegeEscalation":false,"capabilities":{"add":["IPC_LOCK","SYS_RAWIO"]}},"terminationGracePeriodSeconds":30,"volumeMounts":[{"mountPath":"/home","name":"home"},{"mountPath":"/dev/shm","name":"dshm"},{"mountPath":"/models","name":"model-cache"}],"volumes":[{"emptyDir":{},"name":"home"},{"emptyDir":{"medium":"Memory","sizeLimit":"1Gi"},"name":"dshm"},{"emptyDir":{},"name":"model-cache"}]}` | Generic worker data parallel config |
| kserve.llmisvc.configs.workers.worker.env | list | `[{"name":"HOME","value":"/home"},{"name":"VLLM_LOGGING_LEVEL","value":"INFO"},{"name":"HF_HUB_CACHE","value":"/models"}]` | Environment variables for generic worker |
| kserve.llmisvc.configs.workers.worker.image | object | `{"pullPolicy":"IfNotPresent","repository":"ghcr.io/llm-d/llm-d","tag":"0.0.8"}` | Container image for VLLM generic worker |
| kserve.llmisvc.configs.workers.worker.livenessProbe | object | `{"failureThreshold":3,"httpGet":{"path":"/health","port":8000},"initialDelaySeconds":120,"periodSeconds":10,"timeoutSeconds":10}` | Liveness probe configuration for generic worker |
| kserve.llmisvc.configs.workers.worker.ports | list | `[{"containerPort":8000,"protocol":"TCP"}]` | Container ports for generic worker |
| kserve.llmisvc.configs.workers.worker.readinessProbe | object | `{"failureThreshold":60,"httpGet":{"path":"/health","port":8000},"initialDelaySeconds":10,"periodSeconds":10,"timeoutSeconds":5}` | Readiness probe configuration for generic worker |
| kserve.llmisvc.configs.workers.worker.securityContext | object | `{"allowPrivilegeEscalation":false,"capabilities":{"add":["IPC_LOCK","SYS_RAWIO"]}}` | Security context for generic worker |
| kserve.llmisvc.configs.workers.worker.terminationGracePeriodSeconds | int | `30` | Termination grace period for generic worker |
| kserve.llmisvc.configs.workers.worker.volumeMounts | list | `[{"mountPath":"/home","name":"home"},{"mountPath":"/dev/shm","name":"dshm"},{"mountPath":"/models","name":"model-cache"}]` | Volume mounts for generic worker |
| kserve.llmisvc.configs.workers.worker.volumes | list | `[{"emptyDir":{},"name":"home"},{"emptyDir":{"medium":"Memory","sizeLimit":"1Gi"},"name":"dshm"},{"emptyDir":{},"name":"model-cache"}]` | Pod volumes for generic worker |
| kserve.llmisvc.controller.affinity | object | `{}` | A Kubernetes Affinity, if required For more information, see [Affinity v1 core](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.27/#affinity-v1-core)  For example:   affinity:     nodeAffinity:      requiredDuringSchedulingIgnoredDuringExecution:        nodeSelectorTerms:        - matchExpressions:          - key: foo.bar.com/role            operator: In            values:            - master |
| kserve.llmisvc.controller.annotations | object | `{}` | Optional additional annotations to add to the controller deployment |
| kserve.llmisvc.controller.containerSecurityContext | object | `{"allowPrivilegeEscalation":false,"capabilities":{"drop":["ALL"]},"privileged":false,"readOnlyRootFilesystem":true,"runAsNonRoot":true,"runAsUser":1000,"seccompProfile":{"type":"RuntimeDefault"}}` | Container Security Context to be set on the controller component container For more information, see [Configure a Security Context for a Pod or Container](https://kubernetes.io/docs/tasks/configure-pod-container/security-context/) |
| kserve.llmisvc.controller.env | list | `[]` | Environment variables to be set on the controller container |
| kserve.llmisvc.controller.extraArgs | list | `[]` | Additional command line arguments |
| kserve.llmisvc.controller.extraVolumeMounts | list | `[]` | Additional volume mounts |
| kserve.llmisvc.controller.extraVolumes | list | `[]` | Additional volumes to be mounted |
| kserve.llmisvc.controller.image | string | `"kserve/llmisvc-controller"` | KServe LLM ISVC controller manager container image |
| kserve.llmisvc.controller.imagePullPolicy | string | `"IfNotPresent"` | Specifies when to pull controller image from registry |
| kserve.llmisvc.controller.imagePullSecrets | list | `[]` | Reference to one or more secrets to be used when pulling images For more information, see [Pull an Image from a Private Registry](https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/)  For example:  imagePullSecrets:    - name: "image-pull-secret" |
| kserve.llmisvc.controller.labels | object | `{}` | Optional additional labels to add to the controller deployment |
| kserve.llmisvc.controller.livenessProbe | object | `{"enabled":true,"failureThreshold":5,"httpGet":{"path":"/healthz","port":8081},"initialDelaySeconds":30,"periodSeconds":10,"timeoutSeconds":5}` | Liveness probe configuration |
| kserve.llmisvc.controller.metricsBindAddress | string | `"127.0.0.1"` | Metrics bind address |
| kserve.llmisvc.controller.metricsBindPort | string | `"8443"` | Metrics bind port |
| kserve.llmisvc.controller.nodeSelector | object | `{}` | The nodeSelector on Pods tells Kubernetes to schedule Pods on the nodes with matching labels For more information, see [Assigning Pods to Nodes](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/)  For example:   nodeSelector:     kubernetes.io/arch: amd64 |
| kserve.llmisvc.controller.podAnnotations | object | `{}` | Optional additional annotations to add to the controller Pods |
| kserve.llmisvc.controller.podLabels | object | `{}` | Optional additional labels to add to the controller Pods |
| kserve.llmisvc.controller.readinessProbe | object | `{"enabled":true,"failureThreshold":5,"httpGet":{"path":"/readyz","port":8081},"initialDelaySeconds":30,"periodSeconds":5,"timeoutSeconds":5}` | Readiness probe configuration |
| kserve.llmisvc.controller.replicas | int | `1` | Number of replicas for the controller deployment |
| kserve.llmisvc.controller.resources | object | `{"limits":{"cpu":"100m","memory":"300Mi"},"requests":{"cpu":"100m","memory":"300Mi"}}` | Resources to provide to the llmisvc controller pod  For example:  resources:    limits:      cpu: 100m      memory: 300Mi    requests:      cpu: 100m      memory: 300Mi  For more information, see [Resource Management for Pods and Containers](https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/) |
| kserve.llmisvc.controller.securityContext | object | `{"runAsNonRoot":true,"seccompProfile":{"type":"RuntimeDefault"}}` | Pod Security Context For more information, see [Configure a Security Context for a Pod or Container](https://kubernetes.io/docs/tasks/configure-pod-container/security-context/) |
| kserve.llmisvc.controller.service | object | `{"port":8443,"targetPort":"metrics","type":"ClusterIP"}` | Service configuration |
| kserve.llmisvc.controller.service.port | int | `8443` | Service port for metrics |
| kserve.llmisvc.controller.service.targetPort | string | `"metrics"` | Service target port |
| kserve.llmisvc.controller.service.type | string | `"ClusterIP"` | Service type |
| kserve.llmisvc.controller.serviceAccount | object | `{"name":""}` | Service account configuration |
| kserve.llmisvc.controller.serviceAccount.name | string | `""` | Name of the service account to use If not set, a name is generated using the deployment name |
| kserve.llmisvc.controller.serviceAnnotations | object | `{}` | Optional additional annotations to add to the controller service |
| kserve.llmisvc.controller.strategy | object | `{"rollingUpdate":{"maxSurge":1,"maxUnavailable":0},"type":"RollingUpdate"}` | Deployment strategy |
| kserve.llmisvc.controller.tag | string | `"v0.15.2"` | KServe LLM ISVC controller container image tag |
| kserve.llmisvc.controller.terminationGracePeriodSeconds | int | `10` | Termination grace period in seconds |
| kserve.llmisvc.controller.tolerations | list | `[]` | A list of Kubernetes Tolerations, if required For more information, see [Toleration v1 core](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.27/#toleration-v1-core)  For example:   tolerations:   - key: foo.bar.com/role     operator: Equal     value: master     effect: NoSchedule |
| kserve.llmisvc.controller.topologySpreadConstraints | list | `[]` | A list of Kubernetes TopologySpreadConstraints, if required For more information, see [Topology spread constraint v1 core](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.27/#topologyspreadconstraint-v1-core)  For example:   topologySpreadConstraints:   - maxSkew: 2     topologyKey: topology.kubernetes.io/zone     whenUnsatisfiable: ScheduleAnyway     labelSelector:       matchLabels:         app.kubernetes.io/instance: llmisvc-controller-manager         app.kubernetes.io/component: controller |
| kserve.version | string | `"v0.15.2"` | Version of KServe LLM ISVC components |
